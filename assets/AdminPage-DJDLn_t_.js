import{r as a,e as N,k as h,j as e,A as w}from"./index-u7CGEq5-.js";import{h as x}from"./errorUtils-Bsxly8zh.js";function C({title:n,titleId:l,...i},d){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":l},i),n?a.createElement("title",{id:l},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const E=a.forwardRef(C);function A({title:n,titleId:l,...i},d){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":l},i),n?a.createElement("title",{id:l},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const L=a.forwardRef(A),S=()=>{const[n,l]=a.useState([]),[i,d]=a.useState(!0),[p,s]=a.useState(null),[k,b]=a.useState(new FormData),[o,c]=a.useState(null),{user:f}=N();a.useEffect(()=>{u()},[]);const u=async()=>{try{d(!0),s(null);const r=await h.getAllKicks();l(r.data.data)}catch(r){s(x(r))}finally{d(!1)}},j=r=>{const t=r.target.files;if(t&&t[0]){const m=new FormData;m.append("image",t[0]),b(m)}},g=r=>{const{name:t,value:m}=r.target;o?c({...o,[t]:m}):k.set(t,m)},v=async r=>{r.preventDefault();try{s(null),o?await h.updateKick(o.id,o):await h.addKick(k),u(),b(new FormData),c(null)}catch(t){s(x(t))}},y=async r=>{if(window.confirm("Are you sure you want to delete this sneaker?"))try{s(null),await h.deleteKick(r),u()}catch(t){s(x(t))}};return!f||f.role!=="admin"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(w,{type:"error",children:"Access denied. Admin privileges required."})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-mono-dark dark:text-mono-light mb-8",children:"Sneaker Management"}),e.jsxs("form",{onSubmit:v,className:"mb-12 space-y-4 max-w-xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-mono-dark dark:text-mono-light",children:o?"Edit Sneaker":"Add New Sneaker"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Sneaker Name",value:(o==null?void 0:o.name)||"",onChange:g,className:"w-full px-4 py-2 rounded-lg bg-mono-light-800 dark:bg-mono-dark-800 border-2 border-mono-light-400 dark:border-mono-dark-400 text-mono-dark dark:text-mono-light",required:!0}),e.jsx("input",{type:"text",name:"price",placeholder:"Price",value:(o==null?void 0:o.price)||"",onChange:g,className:"w-full px-4 py-2 rounded-lg bg-mono-light-800 dark:bg-mono-dark-800 border-2 border-mono-light-400 dark:border-mono-dark-400 text-mono-dark dark:text-mono-light",required:!0}),e.jsx("input",{type:"text",name:"category",placeholder:"Category",value:(o==null?void 0:o.category)||"",onChange:g,className:"w-full px-4 py-2 rounded-lg bg-mono-light-800 dark:bg-mono-dark-800 border-2 border-mono-light-400 dark:border-mono-dark-400 text-mono-dark dark:text-mono-light",required:!0}),e.jsx("textarea",{name:"description",placeholder:"Description",value:(o==null?void 0:o.description)||"",onChange:g,className:"w-full px-4 py-2 rounded-lg bg-mono-light-800 dark:bg-mono-dark-800 border-2 border-mono-light-400 dark:border-mono-dark-400 text-mono-dark dark:text-mono-light",required:!0}),!o&&e.jsx("input",{type:"file",onChange:j,className:"w-full",accept:"image/*",required:!0})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",className:"px-6 py-2 bg-mono-dark dark:bg-mono-light text-mono-light dark:text-mono-dark rounded-lg font-semibold hover:bg-mono-dark-800 dark:hover:bg-mono-light-800 transition-all duration-300 shadow-button hover:shadow-button-hover",children:[o?"Update":"Add"," Sneaker"]}),o&&e.jsx("button",{type:"button",onClick:()=>c(null),className:"px-6 py-2 bg-mono-light-400 dark:bg-mono-dark-400 text-mono-dark dark:text-mono-light rounded-lg font-semibold hover:bg-mono-light-600 dark:hover:bg-mono-dark-600 transition-all duration-300",children:"Cancel"})]})]}),p&&e.jsx(w,{type:"error",className:"mb-6",children:p}),i?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(r=>e.jsx("div",{className:"animate-pulse bg-mono-light-800 dark:bg-mono-dark-800 rounded-lg h-48"},r))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(r=>e.jsxs("div",{className:"bg-mono-light-800 dark:bg-mono-dark-800 rounded-lg overflow-hidden border-2 border-mono-light-400 dark:border-mono-dark-400",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-mono-dark dark:text-mono-light",children:r.name}),e.jsxs("p",{className:"text-mono-dark-600 dark:text-mono-light-600",children:["$",parseFloat(r.price).toFixed(2)]}),e.jsxs("div",{className:"mt-4 flex gap-4",children:[e.jsx("button",{onClick:()=>c(r),className:"p-2 rounded-lg bg-mono-dark dark:bg-mono-light text-mono-light dark:text-mono-dark hover:bg-mono-dark-800 dark:hover:bg-mono-light-800 transition-all duration-300",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>y(r.id),className:"p-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition-all duration-300",children:e.jsx(L,{className:"h-5 w-5"})})]})]})]},r.id))})]})};export{S as default};
