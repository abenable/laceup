import{u as p,r as i,j as e,S as r,c as v,L as m}from"./index-u7CGEq5-.js";import{w as j}from"./withLoading-kYQ-upqa.js";const N=()=>{const{cartItems:t,updateQuantity:c,removeFromCart:x}=p(),[s,d]=i.useState(null),[h,g]=i.useState(!0),b=t.reduce((o,a)=>o+a.price*a.quantity,0),l=async(o,a,n)=>{if(n<1)return;const u=`${o}-${a}`;d(u);try{await c(o,a,n)}finally{d(null)}},k=async(o,a)=>{const n=`${o}-${a}`;d(n);try{await x(o,a)}finally{d(null)}};return setTimeout(()=>g(!1),500),h?e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx(r,{variant:"text",className:"h-8 w-1/4"}),e.jsx(r,{variant:"text",className:"h-6 w-20"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[[1,2,3].map(o=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-6 bg-mono-light-800 dark:bg-mono-dark-800 rounded-xl border border-mono-light-400 dark:border-mono-dark-400",children:[e.jsx(r,{variant:"rectangular",className:"w-28 h-28 rounded-lg",animation:"wave"}),e.jsxs("div",{className:"flex-1 space-y-2 w-full",children:[e.jsx(r,{variant:"text",className:"h-6 w-3/4"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(r,{variant:"text",className:"h-4 w-20"}),e.jsx(r,{variant:"text",className:"h-4 w-20"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{variant:"rectangular",className:"w-32 h-10 rounded-lg"}),e.jsx(r,{variant:"text",className:"h-6 w-16"})]})]},o)),e.jsx("div",{className:"mt-8 bg-mono-light-800 dark:bg-mono-dark-800 rounded-xl p-6 border border-mono-light-400 dark:border-mono-dark-400",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsx(r,{variant:"text",className:"h-6 w-24"}),e.jsx(r,{variant:"text",className:"h-6 w-24"})]}),e.jsx(r,{variant:"rectangular",className:"h-12 w-full rounded-lg"})]})})]})]}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-mono-dark dark:text-mono-light",children:"Shopping Cart"}),e.jsxs("span",{className:"text-mono-dark-600 dark:text-mono-light-600",children:[t.length," ",t.length===1?"item":"items"]})]}),t.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{className:"space-y-4",children:[t.map(o=>e.jsxs("div",{className:`flex flex-col sm:flex-row items-start sm:items-center gap-4 p-6 bg-mono-light-800 dark:bg-mono-dark-800 rounded-xl border-2 border-mono-light-400 dark:border-mono-dark-400 transition-all hover:border-mono-dark/30 dark:hover:border-mono-light/30 shadow-card hover:shadow-card-hover ${s===`${o.id}-${o.size}`?"opacity-70":""}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o.image,alt:o.name,className:"w-28 h-28 object-cover rounded-lg shadow-button"}),e.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 flex items-center justify-center bg-mono-dark dark:bg-mono-light text-mono-light dark:text-mono-dark text-sm rounded-full border-2 border-mono-light dark:border-mono-dark shadow-button",children:o.quantity})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-mono-dark dark:text-mono-light",children:o.name}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-mono-dark-600 dark:text-mono-light-600",children:[e.jsxs("p",{children:["Size: ",o.size]}),e.jsxs("p",{className:"font-medium text-mono-dark dark:text-mono-light",children:["$",o.price]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 self-end sm:self-center",children:s===`${o.id}-${o.size}`?e.jsx("div",{className:"p-2",children:e.jsx(v,{size:"small"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center bg-mono-light-600 dark:bg-mono-dark-600 rounded-lg overflow-hidden shadow-button border-2 border-mono-light-400 dark:border-mono-dark-400",children:[e.jsx("button",{onClick:()=>l(o.id,o.size,o.quantity-1),className:"px-3 py-2 text-mono-dark dark:text-mono-light hover:bg-mono-light-400 dark:hover:bg-mono-dark-400 transition-colors border-r border-mono-light-400 dark:border-mono-dark-400","aria-label":"Decrease quantity",disabled:s!==null,children:"-"}),e.jsx("span",{className:"w-12 text-center py-2 font-medium text-mono-dark dark:text-mono-light",children:o.quantity}),e.jsx("button",{onClick:()=>l(o.id,o.size,o.quantity+1),className:"px-3 py-2 text-mono-dark dark:text-mono-light hover:bg-mono-light-400 dark:hover:bg-mono-dark-400 transition-colors border-l border-mono-light-400 dark:border-mono-dark-400","aria-label":"Increase quantity",disabled:s!==null,children:"+"})]}),e.jsx("button",{onClick:()=>k(o.id,o.size),className:"text-sm text-mono-dark-600 dark:text-mono-light-600 hover:text-red-500 dark:hover:text-red-400 transition-colors px-3 py-2 rounded-lg border-2 border-mono-light-400 dark:border-mono-dark-400 shadow-button hover:shadow-button-hover hover:border-red-500 dark:hover:border-red-400",disabled:s!==null,children:"Remove"})]})})]},`${o.id}-${o.size}`)),e.jsx("div",{className:"mt-8 bg-mono-light-800 dark:bg-mono-dark-800 rounded-xl p-6 border-2 border-mono-light-400 dark:border-mono-dark-400 shadow-card",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-mono-light-400 dark:border-mono-dark-400",children:[e.jsx("span",{className:"text-mono-dark-600 dark:text-mono-light-600",children:"Subtotal"}),e.jsxs("span",{className:"text-lg font-medium text-mono-dark dark:text-mono-light",children:["$",b.toFixed(2)]})]}),e.jsx(m,{to:"/checkout",className:"block w-full py-4 text-center bg-mono-dark dark:bg-mono-light text-mono-light dark:text-mono-dark rounded-lg font-medium hover:bg-mono-dark-800 dark:hover:bg-mono-light-800 transition-all duration-300 border-2 border-mono-dark dark:border-mono-light shadow-button hover:shadow-button-hover",children:"Proceed to Checkout"})]})})]})}):e.jsxs("div",{className:"text-center py-16 bg-mono-light-800 dark:bg-mono-dark-800 rounded-xl border border-mono-light-400 dark:border-mono-dark-400",children:[e.jsx("p",{className:"text-mono-dark-600 dark:text-mono-light-600 mb-6 text-lg",children:"Your cart is empty"}),e.jsx(m,{to:"/",className:"inline-block px-6 py-3 bg-mono-dark dark:bg-mono-light text-mono-light dark:text-mono-dark rounded-lg font-medium hover:bg-mono-dark-800 dark:hover:bg-mono-light-800 transition-all duration-300",children:"Continue Shopping"})]})]})},y=j(N);export{y as default};
