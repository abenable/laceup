import{a as N,r as s,u as w,j as o,A as x,L as C,F as A,h as I,k as F}from"./index-u7CGEq5-.js";import{h as S}from"./errorUtils-Bsxly8zh.js";import{F as E}from"./CheckIcon-D9ifpM9B.js";const L=()=>{const{id:n}=N(),[d,u]=s.useState(null),[l,p]=s.useState([]),[b,c]=s.useState(!0),[m,g]=s.useState(null),{addToCart:f,cartItems:h,removeFromCart:k}=w();s.useEffect(()=>{(async()=>{try{if(c(!0),g(null),!n)throw new Error("Category ID is required");const r=parseInt(n),[t,i]=await Promise.all([I.getCategoryById(r),F.getAllKicks()]);u(t.data),p(i.data.data.filter(y=>y.category===t.data.name))}catch(r){const t=S(r);g(t)}finally{c(!1)}})()},[n]);const a=e=>h.some(r=>r.id===e),j=e=>h.find(r=>r.id===e),v=(e,r,t="US 9")=>{if(e.preventDefault(),!a(r.id))f({id:r.id,name:r.name,price:parseFloat(r.price),size:t,quantity:1,image:r.image});else{const i=j(r.id);i&&k(r.id,i.size)}};return b?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-mono-light-800 dark:bg-mono-dark-800 w-1/4 mb-8 rounded"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>o.jsx("div",{className:"bg-mono-light-800 dark:bg-mono-dark-800 rounded-lg h-64"},e))})]})}):m||!d?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx(x,{type:"error",children:m||"Category not found"})}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-mono-dark dark:text-mono-light",children:d.name}),d.description&&o.jsx("p",{className:"mt-2 text-mono-dark-600 dark:text-mono-light-600",children:d.description})]}),l.length===0?o.jsx(x,{type:"info",children:"No sneakers found in this category."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>o.jsxs(C,{to:`/sneaker/${e.id}`,className:"group relative rounded-lg overflow-hidden bg-mono-light-800 dark:bg-mono-dark-800 hover:bg-mono-light-600 dark:hover:bg-mono-dark-600 border-2 border-mono-light-400 dark:border-mono-dark-400 transition-all duration-300 shadow-card hover:shadow-card-hover",children:[o.jsx("div",{className:"aspect-square overflow-hidden",children:o.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-mono-dark dark:text-mono-light font-semibold text-lg mb-2",children:e.name}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-xl font-bold text-mono-dark dark:text-mono-light",children:["$",parseFloat(e.price).toFixed(2)]}),o.jsx("button",{onClick:r=>v(r,e),disabled:a(e.id),title:a(e.id)?"Added to cart":"Add to cart",className:`p-2 rounded-lg border-2 transition-all duration-300 ${a(e.id)?"bg-mono-light-400 dark:bg-mono-dark-400 text-mono-dark dark:text-mono-light border-mono-light-400 dark:border-mono-dark-400":"bg-mono-dark dark:bg-mono-light text-mono-light dark:text-mono-dark border-mono-dark dark:border-mono-light hover:bg-mono-dark-800 dark:hover:bg-mono-light-800"} shadow-button hover:shadow-button-hover`,children:a(e.id)?o.jsx(E,{className:"h-6 w-6"}):o.jsx(A,{className:"h-6 w-6"})})]})]})]},e.id))})]})};export{L as default};
